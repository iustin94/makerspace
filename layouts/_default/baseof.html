<!doctype html>
<html lang="{{ .Site.Language.Lang }}">
  <head>
    <!-- Title -->
    {{ if .IsHome }}
      <title>{{ .Site.Title }}</title>
    {{ else if (eq .Title .Site.Title ) }}
      <title>{{ .Site.Title }}</title>
    {{ else }}
      <title>{{ .Title }} | {{ .Site.Title }}</title>
    {{ end }}

    <!-- Meta -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />

    {{ $description := "" }}
    {{ if .IsHome }}
      {{ $description = .Site.Params.description }}
    {{ else if .Description }}
      {{ $description = .Description }}
    {{ else }}
      {{ $description := .Site.Params.description }}
    {{ end }}
    <meta name="description" content="{{ $description }}" />
    <link rel="canonical" href="{{ .Permalink }}" />

    {{ partial "opengraph" . }}

    {{ with .OutputFormats.Get "RSS" -}}
      {{ printf `<link rel='%s' type='%s' href='%s' title='%s' />` .Rel .MediaType.Type .Permalink $.Site.Title | safeHTML }}
    {{ end -}}

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Tailwind CSS via CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors:
            {
              'accent': '{{ .Site.Params.colors.accent }}',
              'accent-2': '{{ .Site.Params.colors.accent_2 }}',
              'primary':   '{{ .Site.Params.colors.primary }}',
              'primary-2': '{{ .Site.Params.colors.primary_2 }}',
              'secondary': '{{ .Site.Params.colors.secondary }}',
              'secondary-2': '{{ .Site.Params.colors.secondary_2 }}',
              'gray-light': '{{ .Site.Params.colors.gray_light }}',
              'gray-dark': '{{ .Site.Params.colors.gray_dark }}',
              'tertiary': '{{ .Site.Params.colors.tertiary }}'
            },
            fontFamily: {
              'primary': ['Roboto', 'sans-serif'],
              'secondary': ['Space Grotesk', 'sans-serif'],
            },
            borderRadius: {
              'DEFAULT': '10px',
              '4xl': '2rem',
            },
            spacing: {
              'section': '100px',
              'section-mobile': '50px',
              'navbar': '80px',
            }
          }
        }
      }
    </script>

    <!-- Custom styles -->
    <style type="text/tailwindcss">
      @layer base {
        body {
          @apply bg-white text-gray-dark font-primary;
        }
        h1, h2, h3, h4, h5, h6 {
          @apply font-secondary text-secondary;
        }
        a {
          @apply transition-all duration-300;
        }
      }

      /* Global content styles for rendered markdown */
      .page-content {
        @apply text-base leading-relaxed text-gray-dark;
      }
      .page-content > p:first-child {
        @apply text-lg italic text-gray-dark/80 mb-10 border-l-4 border-accent pl-5;
      }
      .page-content h2 {
        @apply font-secondary text-2xl font-bold text-secondary mt-12 mb-4 pb-2 border-b border-gray-200 scroll-mt-20;
      }
      .page-content h2:first-of-type {
        @apply mt-6;
      }
      .page-content h3 {
        @apply font-secondary text-xl font-semibold text-secondary mt-8 mb-3 scroll-mt-20;
      }
      .page-content p {
        @apply mb-4;
      }
      .page-content ul {
        @apply mb-6 ml-5 flex flex-col gap-2 list-disc;
      }
      .page-content ol {
        @apply mb-6 ml-5 flex flex-col gap-2 list-decimal;
      }
      .page-content li {
        @apply leading-relaxed;
      }
      .page-content a {
        @apply text-accent hover:text-accent-2 underline underline-offset-2;
      }
      .page-content strong {
        @apply font-semibold text-secondary;
      }
      .page-content hr {
        @apply hidden;
      }
      .page-content li ol,
      .page-content li ul {
        @apply mt-2 mb-0;
      }
    </style>
  </head>
  <body>
    <div class="flex min-h-screen flex-col">
      {{ partial "shared/header" . }}
      <div class="grow">{{ block "main" . }}{{ end }}</div>
      {{ partial "shared/footer" . }}
    </div>
  </body>
</html>
