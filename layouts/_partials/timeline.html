{{ $timeline := .GetPage "timeline" }}
{{ with $timeline }}
{{ $entries := .Pages.ByWeight }}
{{ if $entries }}
<section class="py-16">
  <div class="container mx-auto px-4">
    <h2 class="text-secondary mb-12 text-center font-secondary text-2xl font-bold xl:text-4xl">{{ .Title }}</h2>
    <div class="relative mx-auto max-w-5xl">
      <!-- Vertical line -->
      <div class="absolute left-4 top-0 hidden h-full w-0.5 bg-gray-200 md:left-1/2 md:-translate-x-1/2 md:block"></div>
      <div class="absolute left-4 top-0 block h-full w-0.5 bg-gray-200 md:hidden"></div>

      {{ range $i, $item := $entries }}
      {{ $even := eq (mod $i 2) 0 }}
      <div class="relative mb-10 last:mb-0 md:flex md:items-center {{ if $even }}md:flex-row{{ else }}md:flex-row-reverse{{ end }}">
        <!-- Year badge -->
        <div class="absolute left-4 z-10 -translate-x-1/2 md:left-1/2">
          <span class="bg-accent flex h-10 w-10 items-center justify-center rounded-full font-secondary text-xs font-bold text-white shadow">
            {{ .Params.year }}
          </span>
        </div>

        <!-- Spacer for the other half -->
        <div class="hidden md:block md:w-1/2"></div>

        <!-- Card -->
        <div class="ml-10 md:ml-0 md:w-1/2 {{ if $even }}md:pr-12{{ else }}md:pl-12{{ end }}">
          <div class="bg-primary rounded-[10px] p-6 xl:p-8">
            <h3 class="text-secondary mb-2 font-secondary text-xl font-bold">{{ .Title }}</h3>
            <div class="text-gray-dark">{{ .Content }}</div>
          </div>
        </div>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}
{{ end }}
